<html>
  <head>
    <script src="plotly.min.js"></script>
    <script src="plotly-locale-es.js"></script>
    <script src="knn.js"></script>
    <script src="calculateDistances.js"></script>
    <script src="orderByDistance.js"></script>
    <script src="classifyNewInstance.js"></script>
    <script src="formatDataToPlot.js"></script>
  </head>
  <body>
    <div id="chart" style="height: 50vh; width: 50vw; margin-top: 25vh; margin-left: 25vw"></div>
    <script type="text/javascript">
      let trainingData = [
        { x: 1, y: 1, label: 'Etiqueta 1' },
        { x: 2, y: 2, label: 'Etiqueta 1' },
        { x: 1.5, y: 6, label: 'Etiqueta 1' },
        { x: 3, y: 8, label: 'Etiqueta 1' },
        { x: 6, y: 14, label: 'Etiqueta 2' },
        { x: 7, y: 12, label: 'Etiqueta 2' },
        { x: 8, y: 15, label: 'Etiqueta 2' },
        { x: 6.5, y: 13, label: 'Etiqueta 2' },
      ];
      let newInstance = { x: 4.5, y: 10 };
      let k = 3;
      let data = knn(trainingData, newInstance, k);

      Plotly.newPlot(
        document.getElementById('chart'),
        formatDataToPlot(data),
        {
          margin: { t: 35 },
          dragmode: 'pan',
          hovermode: 'closest',
        },
        {
          scrollZoom: true,
          locale: 'es',
          displaylogo: false,
          responsive: true,
          modeBarButtonsToRemove: [
            'zoom2d',
            'select2d',
            'lasso2d',
            'hoverClosestCartesian',
            'hoverCompareCartesian',
            'autoScale2d',
          ],
        }
      );
    </script>
  </body>
</html>
